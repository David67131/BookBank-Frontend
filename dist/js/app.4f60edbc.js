(function(e){function t(t){for(var o,i,s=t[0],u=t[1],l=t[2],m=0,d=[];m<s.length;m++)i=s[m],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);c&&c(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,s=1;s<r.length;s++){var u=r[s];0!==n[u]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var o={},n={app:0},a=[];function i(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=o,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=u;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},5002:function(e,t,r){"use strict";r("9b53")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("2b0e"),n=(r("d3b7"),r("bc3a")),a=r.n(n),i={},s=a.a.create(i);s.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e,t){e.axios=s,window.axios=s,Object.defineProperties(e.prototype,{axios:{get:function(){return s}},$axios:{get:function(){return s}}})},o["default"].use(Plugin);Plugin,r("b0c0");var u=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("el-container",{staticStyle:{height:"100vh",border:"1px solid #eee"}},[t("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[t("el-menu",{staticStyle:{height:"100%"},attrs:{"default-openeds":["0"],router:""}},e._l(e.$router.options.routes,(function(r,o){return r.show?t("el-submenu",{attrs:{index:o+""}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-bell"}),e._v(e._s(r.name))]),e._l(r.children,(function(r,o){return t("el-menu-item",{class:e.$route.path==r.path?"is-active":"",attrs:{index:r.path}},[e._v(" "+e._s(r.name)+" ")])}))],2):e._e()})),1)],1),t("el-main",[t("router-view")],1)],1)],1)},l=[],c={},m=c,d=(r("5002"),r("2877")),h=Object(d["a"])(m,u,l,!1,null,null,null),p=h.exports,f=r("8c4f"),b=(r("4de4"),r("ac1f"),r("841c"),r("caad"),r("2532"),function(){var e=this,t=e._self._c;return t("div",[t("h3",{staticStyle:{"margin-bottom":"16px"}},[e._v("Book List")]),t("el-table",{attrs:{"empty-text":"No Data",data:e.tableData.filter((function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())}))}},[t("el-table-column",{attrs:{prop:"id",label:"Book No.",width:"140"}}),t("el-table-column",{attrs:{prop:"name",label:"Book Name",width:"120"}}),t("el-table-column",{attrs:{prop:"author",label:"Author",width:"140"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("i",{staticClass:"el-icon-user-solid"}),t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(r.row.author.name))])]}}])}),t("el-table-column",{attrs:{prop:"price",label:"Price",width:"120"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"header",fn:function(r){return[t("el-input",{attrs:{size:"mini",placeholder:"please enter book name"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.edit(r.row)}}},[e._v("Edit")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteById(r.row)}}},[e._v("Delete")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.buyBookById(r.row)}}},[e._v("Buy Book For Customer")])]}}])})],1),t("br"),t("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.change}}),t("el-dialog",{attrs:{title:"User Buy Book",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-select",{attrs:{placeholder:"select customer"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")]),t("el-button",{attrs:{type:"primary"},on:{click:e.okBuy}},[e._v("Confirm")])],1)],1)],1)}),g=[],v=(r("14d9"),r("e9c4"),r("d9e2"),r("5c96")),y=r.n(v),F=r("2f62");o["default"].use(F["a"]);var k=new F["a"].Store({state:{},mutations:{},actions:{},modules:{}}),_=a.a.create({baseURL:"http://123.249.91.240:9999",timeout:5e3});_.interceptors.request.use((function(e){return localStorage.getItem("token")&&(e.headers["token"]=localStorage.getItem("token")||""),e}),(function(e){return console.log(e),Promise.reject(e)})),_.interceptors.response.use((function(e){var t=e.data;return 1!==t.code?(Object(v["Message"])({message:t.message||"Error",type:"error",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||v["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){k.dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(t.message||"Error"))):t}),(function(e){return console.log("err"+e),Object(v["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}));var x=_;function w(e){return x({url:"/book/page",method:"get",params:e})}function S(e){return x({url:"/book/save",method:"post",data:e})}function $(e){return x({url:"/author/page",method:"get",params:e})}function j(e){return x({url:"/book/delete/".concat(e),method:"get",id:e})}function B(e){return x({url:"author/save",method:"post",data:e})}function L(e){return x({url:"/author/delete/".concat(e),method:"get",id:e})}function C(e){return x({url:"customer/save",method:"post",data:e})}function O(e){return x({url:"/customer/page",method:"get",params:e})}function A(e){return x({url:"/customer/info/".concat(e),method:"get",id:e})}function P(e){return x({url:"/customer/buy",method:"post",data:e})}function z(e){return x({url:"/customer/deleteBook",method:"get",params:e})}function q(e){return x({url:"/customer/delete/".concat(e),method:"get",id:e})}var D={data:function(){return{searchContent:"",pageSize:10,total:0,page:1,tableData:[],search:"",dialogVisible:!1,options:[],value:null,bookId:null}},methods:{geiList:function(){var e=this,t={start:0,length:999999};O(t).then((function(t){1===t.code&&(e.options=t.data.content)}))},change:function(e){this.page=e,this.getBookList()},edit:function(e){this.$router.push({path:"/update",query:{obj:JSON.stringify(e)}})},getBookList:function(){var e=this,t={start:this.page-1,length:this.pageSize};w(t).then((function(t){1===t.code&&(e.tableData=t.data.content,e.total=t.data.totalElements)}))},deleteById:function(e){var t=this,r=this;r.$confirm("Sure to delete it?","Tips",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then((function(){j(e.id).then((function(e){1===e.code&&(t.$message.success("success"),t.getBookList())})),console.log(111)})).catch((function(){t.$message({type:"info",message:"Cancel delete"})}))},buyBookById:function(e){this.bookId=e.id,this.geiList(),this.dialogVisible=!0},okBuy:function(){var e=this,t={bookId:this.bookId,customerId:this.value};P(t).then((function(t){1===t.code&&(e.$message.success("Buy Success!"),e.getBookList(),e.dialogVisible=!1)}))}},created:function(){this.getBookList()}},N=D,E=Object(d["a"])(N,b,g,!1,null,"e25cb256",null),I=E.exports,U=function(){var e=this,t=e._self._c;return t("div",[t("h3",{staticStyle:{"margin-bottom":"16px"}},[e._v("Add Book")]),t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"40%"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"Book Name",prop:"name"}},[t("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),t("el-form-item",{attrs:{label:"Author",prop:"author"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Please Select"},model:{value:e.ruleForm.author,callback:function(t){e.$set(e.ruleForm,"author",t)},expression:"ruleForm.author"}},e._l(e.options,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"Price",prop:"price"}},[t("el-input",{model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",t)},expression:"ruleForm.price"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Add")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("Reset")])],1)],1)],1)},T=[],J={data:function(){return{ruleForm:{name:"",author:"",price:""},rules:{name:[{required:!0,message:"please enter",trigger:"blur"}],author:[{required:!0,message:"please enter",trigger:"blur"}],price:[{required:!0,message:"please enter",trigger:"blur"}]},options:[]}},created:function(){this.getList()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var r={name:t.ruleForm.name,price:t.ruleForm.price,author:{id:t.ruleForm.author}};S(r).then((function(e){1===e.code&&(t.$message.success("Success"),t.$router.push("/manage"))}))}))},getList:function(){var e=this;$({start:0,length:9999}).then((function(t){1===t.code&&(e.options=t.data.content)}))},resetForm:function(e){this.$refs[e].resetFields(),this.ruleForm.price=""}}},M=J,R=Object(d["a"])(M,U,T,!1,null,null,null),V=R.exports,Y=function(){var e=this,t=e._self._c;return t("router-view")},G=[],H={name:""},K=H,Q=Object(d["a"])(K,Y,G,!1,null,"4c7d8038",null),W=Q.exports,X=function(){var e=this,t=e._self._c;return t("div",[t("h3",{staticStyle:{"margin-bottom":"16px"}},[e._v("Edit Book Info")]),t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"40%"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"ID",prop:"id"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.id,callback:function(t){e.$set(e.ruleForm,"id",t)},expression:"ruleForm.id"}})],1),t("el-form-item",{attrs:{label:"Book Name",prop:"name"}},[t("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),t("el-form-item",{attrs:{label:"Author",prop:"author"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"please select"},model:{value:e.ruleForm.author,callback:function(t){e.$set(e.ruleForm,"author",t)},expression:"ruleForm.author"}},e._l(e.options,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"Price",prop:"price"}},[t("el-input",{model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",t)},expression:"ruleForm.price"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Add")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("Reset")])],1)],1)],1)},Z=[],ee={data:function(){return{ruleForm:{name:"",author:"",price:"",id:null},rules:{name:[{required:!0,message:"please enter",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"}],author:[{required:!0,message:"please enter",trigger:"blur"}],id:[{required:!0,message:"please enter",trigger:"blur"}],price:[{required:!0,message:"please enter",trigger:"blur"}]},options:[],rows:[]}},created:function(){this.rows=JSON.parse(this.$route.query.obj),this.ruleForm.id=this.rows.id,this.ruleForm.name=this.rows.name,this.ruleForm.author=this.rows.author.id,this.ruleForm.price=this.rows.price||"",console.log(this.rows),this.getList()},methods:{submitForm:function(e){var t=this;console.log(this.options);var r=this.options.filter((function(e){return e.id===t.ruleForm.author}));console.log(r),this.$refs[e].validate((function(e){if(!e)return!1;var o={id:t.ruleForm.id,name:t.ruleForm.name,price:t.ruleForm.price,author:{id:r[0].id,name:r[0].name}};S(o).then((function(e){1===e.code&&(t.$message.success("Success"),t.$router.push("/manage"))}))}))},getList:function(){var e=this;$({start:0,length:9999}).then((function(t){1===t.code&&(e.options=t.data.content)}))},resetForm:function(e){this.$refs[e].resetFields(),this.ruleForm.price=""}}},te=ee,re=Object(d["a"])(te,X,Z,!1,null,null,null),oe=re.exports,ne=function(){var e=this,t=e._self._c;return t("div",[t("h3",{staticStyle:{"margin-bottom":"16px"}},[e._v("Author List")]),t("el-table",{attrs:{"empty-text":"No Data",data:e.tableData.filter((function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())}))}},[t("el-table-column",{attrs:{prop:"id",label:"Author No.",width:"140"}}),t("el-table-column",{attrs:{prop:"author",label:"Author",width:"140"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("i",{staticClass:"el-icon-user-solid"}),t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(r.row.name))])]}}])}),t("el-table-column",{attrs:{label:"Operate"},scopedSlots:e._u([{key:"header",fn:function(r){return[t("el-input",{attrs:{size:"mini",placeholder:"Please enter author name"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.edit(r.row)}}},[e._v("Edit")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteById(r.row)}}},[e._v("Delete")])]}}])})],1),t("br"),t("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.change}})],1)},ae=[],ie={data:function(){return{searchContent:"",pageSize:10,total:0,page:1,tableData:[],search:""}},methods:{change:function(e){this.page=e,this.geiList()},edit:function(e){this.$router.push({path:"/editauthor",query:{obj:JSON.stringify(e)}})},geiList:function(){var e=this,t={start:this.page-1,length:this.pageSize};$(t).then((function(t){1===t.code&&(e.tableData=t.data.content,e.total=t.data.totalElements)}))},deleteById:function(e){var t=this,r=this;r.$confirm("Sure to delete it?","tips",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then((function(){L(e.id).then((function(e){1===e.code&&(t.$message.success("success"),t.geiList())})),console.log(111)})).catch((function(){t.$message({type:"info",message:"Cancel delete"})}))}},created:function(){this.geiList()}},se=ie,ue=Object(d["a"])(se,ne,ae,!1,null,"2b28bbad",null),le=ue.exports,ce=function(){var e=this,t=e._self._c;return t("div",[t("h3",{staticStyle:{"margin-bottom":"16px"}},[e._v("Edit Author")]),t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"40%"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"Author",prop:"author"}},[t("el-input",{model:{value:e.ruleForm.author,callback:function(t){e.$set(e.ruleForm,"author",t)},expression:"ruleForm.author"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Add")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("Reset")])],1)],1)],1)},me=[],de={data:function(){return{ruleForm:{author:""},obj:{},rules:{author:[{required:!0,message:"please enter",trigger:"blur"}]}}},created:function(){this.obj=JSON.parse(this.$route.query.obj),console.log(this.obj),this.ruleForm.author=this.obj.name},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var r={name:t.ruleForm.author,id:t.obj.id};B(r).then((function(e){1===e.code&&(t.$message.success("Success"),t.$router.push("/author"))}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},he=de,pe=Object(d["a"])(he,ce,me,!1,null,null,null),fe=pe.exports,be=function(){var e=this,t=e._self._c;return t("div",[t("h3",{staticStyle:{"margin-bottom":"16px"}},[e._v("Add Author")]),t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"40%"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"Author",prop:"author"}},[t("el-input",{attrs:{placeholder:"Please Enter"},model:{value:e.ruleForm.author,callback:function(t){e.$set(e.ruleForm,"author",t)},expression:"ruleForm.author"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Add")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("Reset")])],1)],1)],1)},ge=[],ve={data:function(){return{ruleForm:{author:""},obj:{},rules:{author:[{required:!0,message:"please enter",trigger:"blur"}]}}},created:function(){},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var r={name:t.ruleForm.author};B(r).then((function(e){1===e.code&&(t.$message.success("Success"),t.$router.push("/author"))}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},ye=ve,Fe=Object(d["a"])(ye,be,ge,!1,null,null,null),ke=Fe.exports,_e=function(){var e=this,t=e._self._c;return t("div",[t("h3",{staticStyle:{"margin-bottom":"16px"}},[e._v("Add User")]),t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"40%"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"User",prop:"user"}},[t("el-input",{attrs:{placeholder:"Please Enter"},model:{value:e.ruleForm.user,callback:function(t){e.$set(e.ruleForm,"user",t)},expression:"ruleForm.user"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Add")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("Reset")])],1)],1)],1)},xe=[],we={data:function(){return{ruleForm:{user:""},obj:{},rules:{user:[{required:!0,message:"please enter",trigger:"blur"}]}}},created:function(){},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var r={name:t.ruleForm.user};C(r).then((function(e){1===e.code&&(t.$message.success("Success"),t.$router.push("/UserList"))}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},Se=we,$e=Object(d["a"])(Se,_e,xe,!1,null,null,null),je=$e.exports,Be=function(){var e=this,t=e._self._c;return t("div",[t("h3",{staticStyle:{"margin-bottom":"16px"}},[e._v("User List")]),t("el-table",{attrs:{"empty-text":"No Data",data:e.tableData.filter((function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())}))}},[t("el-table-column",{attrs:{prop:"id",label:"Customer No.",width:"140"}}),t("el-table-column",{attrs:{prop:"author",label:"Author",width:"140"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("i",{staticClass:"el-icon-user-solid"}),t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(r.row.name))])]}}])}),t("el-table-column",{attrs:{label:"Operate"},scopedSlots:e._u([{key:"header",fn:function(r){return[t("el-input",{attrs:{size:"mini",placeholder:"Please enter author name"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.edit(r.row)}}},[e._v("Edit")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.view(r.row)}}},[e._v("View")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteCus(r.row)}}},[e._v("Delete")])]}}])})],1),t("br"),t("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.change}})],1)},Le=[],Ce={data:function(){return{searchContent:"",pageSize:10,total:0,page:1,tableData:[],search:""}},methods:{change:function(e){this.page=e,this.geiList()},edit:function(e){this.$router.push({path:"/EditUser",query:{obj:JSON.stringify(e)}})},view:function(e){this.$router.push("/Detail?id=".concat(e.id))},geiList:function(){var e=this,t={start:this.page-1,length:this.pageSize};O(t).then((function(t){1===t.code&&(e.tableData=t.data.content,e.total=t.data.totalElements)}))},deleteCus:function(e){var t=this;q(e.id).then((function(e){1===e.code&&(t.$message.success("Success!"),t.geiList())}))}},created:function(){this.geiList()}},Oe=Ce,Ae=Object(d["a"])(Oe,Be,Le,!1,null,"171dfff4",null),Pe=Ae.exports,ze=function(){var e=this,t=e._self._c;return t("div",[t("h3",{staticStyle:{"margin-bottom":"16px"}},[e._v("User Detail")]),t("div",{staticStyle:{display:"flex"}},[t("div",{staticStyle:{flex:"1"}},[t("h5",[e._v("User Name:"+e._s(e.obj.name))])]),t("div",{staticStyle:{flex:"1"}},[t("h5",[e._v("Books purchased:")]),e._l(e.obj.books,(function(r,o){return t("h5",{key:o},[e._v(" 《"+e._s(r.name)+"》 "),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteBook(r,e.obj)}}},[e._v("delete")]),t("div",{staticStyle:{display:"flex"}},[t("h5",[e._v("Author Name:")]),t("h5",[e._v(" "+e._s(r.author.name)+" ")]),t("h5",{staticStyle:{"margin-left":"16px"}},[e._v("Price:")]),t("h5",[e._v(" "+e._s(r.price)+" ")])])],1)}))],2)])])},qe=[],De={data:function(){return{obj:{}}},created:function(){var e=this;A(this.$route.query.id).then((function(t){e.obj=t.data}))},methods:{deleteBook:function(e,t){var r=this;console.log(e,t);var o={id:t.id,bookId:e.id};z(o).then((function(e){1===e.code&&(r.$message.success("Success!"),A(r.$route.query.id).then((function(e){r.obj=e.data})))}))}}},Ne=De,Ee=Object(d["a"])(Ne,ze,qe,!1,null,null,null),Ie=Ee.exports,Ue=function(){var e=this,t=e._self._c;return t("div",[t("h3",{staticStyle:{"margin-bottom":"16px"}},[e._v("Edit User")]),t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"40%"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"Author",prop:"author"}},[t("el-input",{model:{value:e.ruleForm.author,callback:function(t){e.$set(e.ruleForm,"author",t)},expression:"ruleForm.author"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Add")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("Reset")])],1)],1)],1)},Te=[],Je={data:function(){return{ruleForm:{author:""},obj:{},rules:{author:[{required:!0,message:"please enter",trigger:"blur"}]}}},created:function(){this.obj=JSON.parse(this.$route.query.obj),console.log(this.obj),this.ruleForm.author=this.obj.name},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var r={name:t.ruleForm.author,id:t.obj.id};C(r).then((function(e){1===e.code&&(t.$message.success("Success"),t.$router.push("/UserList"))}))}))},resetForm:function(e){this.$refs[e].resetFields(),this.ruleForm.author=""}}},Me=Je,Re=Object(d["a"])(Me,Ue,Te,!1,null,null,null),Ve=Re.exports;o["default"].use(f["a"]);var Ye=[{path:"/",show:!0,name:"Book Manage",component:W,redirect:"/manage",children:[{path:"/manage",name:"Book List",component:I},{path:"/add",name:"Add Book",component:V},{path:"/author",name:"Author List",component:le},{path:"/AddAuthor",name:"Add Author",component:ke},{path:"/AddUser",name:"Add User",component:je},{path:"/UserList",name:"User List",component:Pe}]},{show:!1,path:"/update",component:oe},{show:!1,path:"/editauthor",component:fe},{show:!1,path:"/Detail",component:Ie},{show:!1,path:"/EditUser",component:Ve}],Ge=new f["a"]({mode:"history",base:"/",routes:Ye}),He=Ge;r("0fae");o["default"].use(y.a),o["default"].config.productionTip=!1,new o["default"]({router:He,store:k,render:function(e){return e(p)}}).$mount("#app")},"9b53":function(e,t,r){}});
//# sourceMappingURL=app.4f60edbc.js.map